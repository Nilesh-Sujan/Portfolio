<!DOCTYPE html>
<html lang="en">
  <head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script type = 'text/javascript'>

  function loadAllBooks(){
        $.ajax({
            url: "Books.php",
            success: function(serverData){
                $("#AllBooks").html(serverData);
            }
        })
    }

    function searchBooks(){
      var searchVal = $("#searchBox").val();

      $.ajax({
        url: "filterBooks.php",
        data: "searchVal=" + searchVal,
        type: "GET",
        success: function(serverData){ 
          $("#filterBooks").html(serverData)
        }
      })
    }

    function searchResearch(){
      var searchVal = $("#searchBox2").val();

      $.ajax({
        url: "filterResearch.php",
        data: "searchVal=" + searchVal,
        type: "GET",
        success: function(serverData){ 
          $("#filterResearch").html(serverData)
        }
      })
    }

    function loadLibrarians(){
        $.ajax({
            url: "librarians.php",
            success: function(serverData){
                $("#Librarians").html(serverData);
            }
        })
    }

    function loadResearch(){
        $.ajax({
            url: "research.php",
            success: function(serverData){
                $("#AllResearch").html(serverData);
            }
        })
    }

    $(document).ready(() =>{
        loadLibrarians();
        loadAllBooks();
        loadResearch();
    });
  </script>
  <title>University Library Database</title>
  <style>
    body,
    h1,
    h2,
    h3,
    h4,
    h5 {
      font-family: "Poppins", sans-serif;
    }
    body {
      font-size: 16px;
    }
    .w3-half img {
      margin-bottom: -6px;
      margin-top: 16px;
      opacity: 0.8;
      cursor: pointer;
    }
    .w3-half img:hover {
      opacity: 1;
    }

    #mySidebar {
      z-index: 3;
      width: 0;
      font-weight: bold;
      transition: .3s;
    }

    .opened{
      width: 300px !important;
    }

    #content{
      margin-left: 40px;
      transition: .3s;
    }

    .content_opened{
      margin-left: 340px !important;
    }

    .menu_btn{
      position: fixed;
      width: 50px;
      color: black;
      top: 0;
      left: 0;
      padding-left: 5px;
      cursor: pointer;
      z-index: 10;
      font-size: 16pt;
      transition: .3s;
      color: white;
    }

    .menu_btn_opened{
      left: 305px;
      color: black;
    }
  </style>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" />
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Poppins"
  />
</head>

  <body>
    <!-- Sidebar/menu -->
    <div onclick="toggleMenu()" class="menu_btn" id="menu_btn">â˜°</div>
    <nav class="w3-sidebar w3-red w3-collapse w3-top w3-large w3-padding" id="mySidebar">
        <br />
        <div class="w3-container">
            <h3 class="w3-padding-64">
                <b>University<br />Library<br />Database</b>
            </h3>
        </div>
        <div class="w3-bar-block">
            <a href="#home" onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">Home</a>
            <a href="#displayall" onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">All Books.</a>
            <a href="#displayallresearch" onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">All
                Researchs.</a>
            <a href="#browse" onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">Browse Books</a>
            <a href="#research" onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">Browse Research</a>
            <a href="#librarians" onclick="w3_close()" class="w3-bar-item w3-button w3-hover-white">Librarians</a>
        </div>
    </nav>

    <!-- Overlay effect when opening sidebar on small screens -->
    <div
      class="w3-overlay w3-hide-large"
      onclick="w3_close()"
      style="cursor: pointer"
      title="close side menu"
      id="myOverlay"
    ></div>

    <!-- !PAGE CONTENT! -->

    <div class="w3-main" id = "content" style="margin-right: 40px">
      <!-- Home -->
      <div class="w3-container" style="margin-top: 80px" id="home">
        <h1 class="w3-jumbo"><b>Welcome</b></h1>
        <h1 class="w3-xxxlarge w3-text-red"><b>University Library Database.</b></h1>
        <hr style="width: 50px; border: 5px solid red" class="w3-round" />
        <p>Welcome to the university library database! Have fun browsing our very limited library!</p>
        <img src="/libraryimage.jpg" style="width:100%" onclick="onClick(this)">
      </div>

    <!-- DisplayAll Books -->

    <div class="w3-container" id="displayall" style="margin-top:75px">
      <h1 class="w3-xxxlarge w3-text-red"><b>All Books.</b></h1>
      <hr style="width:50px;border:5px solid red" class="w3-round">
      <p id = "AllBooks"></p>
    </div>

    <!-- DisplayAll Research-->

    <div class="w3-container" id="displayallresearch" style="margin-top:75px">
      <h1 class="w3-xxxlarge w3-text-red"><b>All Research Publications.</b></h1>
      <hr style="width:50px;border:5px solid red" class="w3-round">
      <p id = "AllResearch"></p>
    </div>

    <!-- Browse -->

    <div class="w3-container" id="browse" style="margin-top:75px">
        <h1 class="w3-xxxlarge w3-text-red"><b>Browse books.</b></h1>
        <hr style="width:50px;border:5px solid red" class="w3-round">
        <input type="text" id="searchBox" onkeyup="searchBooks()"  placeholder="Search for book or author..." title="Type in a book name">
        <p>Results:</p>
        <p id = "filterBooks"></p>
    </div>

     <!-- research -->
     <div class="w3-container" id="research" style="margin-top:75px">
      <h1 class="w3-xxxlarge w3-text-red"><b>Browse Research Publications.</b></h1>
      <hr style="width:50px;border:5px solid red" class="w3-round">
      <input type="text" id="searchBox2" onkeyup="searchResearch()"  placeholder="Search for research..." title="Type in a research name">
      <p>Results:</p>
      <p id = "filterResearch"></p>
    </div>

    <!-- librarians -->
    <div class="w3-container" id="librarians" style="margin-top:75px">
      <h1 class="w3-xxxlarge w3-text-red"><b>Librarians.</b></h1>
      <hr style="width:50px;border:5px solid red" class="w3-round">
      <div id = "Librarians"></div>
        <p id = "Librarians"></p>
    </div>

    <!-- W3.CSS Container -->
    <div
      class="w3-light-grey w3-container w3-padding-32"
      style="margin-top: 75px; padding-right: 58px"
    >
      <p class="w3-right">
        By ns01100
      </p>
      <p class="w3-left">
        COM1025 Website Development
      </p>
    </div>

    <script>
      // Script to open and close sidebar
      function toggleMenu() {
          $("#mySidebar").toggleClass("opened");
          $("#menu_btn").toggleClass("menu_btn_opened");
          $("#content").toggleClass("content_opened");
      }

      // Modal Image Gallery
      function onClick(element) {
        document.getElementById("img01").src = element.src;
        document.getElementById("modal01").style.display = "block";
        var captionText = document.getElementById("caption");
        captionText.innerHTML = element.alt;
      }
    </script>
  </body>
</html>